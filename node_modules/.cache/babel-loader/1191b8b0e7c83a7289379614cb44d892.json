{"ast":null,"code":"import _classCallCheck from \"/Volumes/Data/Mywork/WEB/ReactJS/portfolio_walter/wlportfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Data/Mywork/WEB/ReactJS/portfolio_walter/wlportfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Data/Mywork/WEB/ReactJS/portfolio_walter/wlportfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Data/Mywork/WEB/ReactJS/portfolio_walter/wlportfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Data/Mywork/WEB/ReactJS/portfolio_walter/wlportfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Volumes/Data/Mywork/WEB/ReactJS/portfolio_walter/wlportfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Volumes/Data/Mywork/WEB/ReactJS/portfolio_walter/wlportfolio/src/components/History.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BASE_URL, TRACK_IP, FETCH_VISITOR } from '../apis';\nimport { ToastsContainer, ToastsStore } from 'react-toasts';\n\nvar History =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(History, _Component);\n\n  function History(props) {\n    var _this;\n\n    _classCallCheck(this, History);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(History).call(this, props));\n\n    _this.onDelete = function () {\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      axios.delete(\"\".concat(BASE_URL).concat(TRACK_IP)).then(function (response) {\n        self.setState({\n          historyData: []\n        });\n      }).catch(function (response) {\n        ToastsStore.error('Deleting was failed, please try again later!');\n      });\n      ;\n    };\n\n    _this.state = {\n      historyData: []\n    };\n    document.title = \"Portfolio History\";\n    return _this;\n  }\n\n  _createClass(History, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var self = this;\n      axios.get(\"\".concat(BASE_URL).concat(FETCH_VISITOR)).then(function (response) {\n        self.setState({\n          historyData: response.data.data\n        });\n      }).catch(function (response) {\n        ToastsStore.error('Fetching was failed, please try to refresh again!');\n      });\n      ;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var historyData = this.state.historyData;\n      return React.createElement(\"div\", {\n        className: \"history\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row history-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"History\"), React.createElement(\"button\", {\n        onClick: this.onDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Delete\")), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"No\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"User\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"IP Address\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Country\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"State\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"City\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Visited on\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, historyData.map(function (data, index) {\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, historyData.length - index), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, data.name || \"\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, data.ip || \"\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, data.country || \"\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, data.state || \"\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, data.city || \"\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, data.visited_on || \"\"));\n      })))), React.createElement(ToastsContainer, {\n        store: ToastsStore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return History;\n}(Component);\n\nexport default History;","map":{"version":3,"sources":["/Volumes/Data/Mywork/WEB/ReactJS/portfolio_walter/wlportfolio/src/components/History.js"],"names":["React","Component","axios","BASE_URL","TRACK_IP","FETCH_VISITOR","ToastsContainer","ToastsStore","History","props","onDelete","self","delete","then","response","setState","historyData","catch","error","state","document","title","get","data","map","index","length","name","ip","country","city","visited_on"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {BASE_URL, TRACK_IP, FETCH_VISITOR} from '../apis';\nimport {ToastsContainer, ToastsStore} from 'react-toasts';\n\nclass History extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            historyData: []\n        };\n        document.title = \"Portfolio History\";\n    }\n    \n    componentDidMount() {\n        const self = this;\n        axios.get(`${BASE_URL}${FETCH_VISITOR}`)\n            .then( response => { \n                self.setState({historyData: response.data.data});\n            })\n            .catch( response => {\n                ToastsStore.error('Fetching was failed, please try to refresh again!');\n            });;\n    }\n\n    onDelete = () => {\n        const self = this;\n        axios.delete(`${BASE_URL}${TRACK_IP}`)\n            .then( response => { \n                self.setState({historyData: []});\n            })\n            .catch( response => {\n                ToastsStore.error('Deleting was failed, please try again later!');\n            });;\n    }\n\n    render() {\n        const {historyData} = this.state;\n        return (\n            <div className=\"history\">\n              <div className=\"row history-header\">\n                <h1>History</h1>\n                <button onClick={this.onDelete}>Delete</button>\n              </div>\n              <div className=\"row\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th>No</th>\n                            <th>User</th>\n                            <th>IP Address</th>\n                            <th>Country</th>\n                            <th>State</th>\n                            <th>City</th>\n                            <th>Visited on</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {\n                        historyData.map((data, index) => (\n                            <tr key={index}>\n                                <td>{historyData.length-index}</td>\n                                <td>{data.name || \"\"}</td>\n                                <td>{data.ip || \"\"}</td>\n                                <td>{data.country || \"\"}</td>\n                                <td>{data.state || \"\"}</td>\n                                <td>{data.city || \"\"}</td>\n                                <td>{data.visited_on || \"\"}</td>\n                            </tr>\n                        ))\n                    }\n                    </tbody>\n                </table>\n              </div>\n              <ToastsContainer store={ToastsStore}/>\n            </div>\n        );\n    }\n}\n\nexport default History;"]},"metadata":{},"sourceType":"module"}